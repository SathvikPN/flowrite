{% extends "base.html" %}

{% block title %} {{ post.title }} {% endblock %}

{% block main %}
<div class="container py-5">
    <article class="post-view">
        <header class="post-header mb-4">
            <div class="post-meta text-muted mb-4">
                <small>{{ post.created_at }}</small>
            </div>
        </header>

        <div class="post-content">
            <pre class="content-pre">{{ post.content }}</pre>
        </div>

        <footer class="post-footer mt-5 pt-4 border-top">
            <div class="d-flex justify-content-between align-items-center">
                <a href="/shelf" class="btn btn-subtle">‚Üê Back to shelf</a>
                <div class="post-actions">
                    <a href="/posts/{{ post.id }}/edit" class="btn btn-subtle me-2">Edit</a>
                    <form action="/posts/{{ post.id }}/delete" method="post" class="d-inline">
                        <button type="submit" class="btn btn-subtle text-danger" onclick="return confirm('Are you sure you want to delete this post?')">Delete</button>
                    </form>
                </div>
            </div>
        </footer>
    </article>
</div>

<style>
.post-view {
    max-width: 800px;
    margin: 0 auto;
    margin-bottom: calc(56px + 2rem); /* footer height + padding */
}

.post-content {
    color: #444;
    line-height: 1.7;
}

.content-pre {
    font-family: inherit;
    font-size: 1.1rem;
    white-space: pre-wrap;
    word-wrap: break-word;
    background: transparent;
    border: none;
    padding: 0;
    margin: 0;
    color: inherit;
    line-height: inherit;
    overflow: visible;
}

.btn-subtle {
    color: #666;
    background: transparent;
    border: 1px solid #ddd;
    font-size: 0.875rem;
    padding: 0.375rem 0.75rem;
    transition: all 0.2s ease;
}

.btn-subtle:hover {
    color: #444;
    background-color: rgba(0, 0, 0, 0.02);
    border-color: #ccc;
}

.text-danger {
    color: #dc3545 !important;
}

.text-danger:hover {
    color: #bd2130 !important;
}
</style>
{% endblock %} 